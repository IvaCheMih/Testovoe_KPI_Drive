Выполнил - Чернецкий Иван https://hh.ru/resume/64958fb7ff0d1ccd840039ed1f7a4132415276

 # Запуск приложения

Приложение использует брокер сообщений RabbitMQ. Контейнер с rabbit поднимается автоматически с приложением.

URL сервиса Rabbit, внешних API (создать факты и получить факт) и JWT для внешнего API должны быть в файле .env. Пример такого файла находится в .env.example.

Укажите в вашем .env эти urls или подставьте свои.

Для запуска приложения выполнить команду ```docker compose up -d```

# Работа с приложением

Приложение описано сваггером. Он запускается автоматически с приложением и доступен по ```http://localhost:8080/swagger/index.html```.
С его помощью можно протестировать основные функции приложения - /CreateFacts и /GetFacts.

Или используйте для иных средств тестирования следующие URLs:

http://localhost:8080/GetFact/

http://localhost:8080/CreateFacts/

# CreateFacts и GetFacts

## CreateFacts

Согласно заданию принимает массив фактов:

period_start:2024-05-01
period_end:2024-05-31
period_key:month
indicator_to_mo_id:227373
indicator_to_mo_fact_id:0
value:1
fact_time:2024-05-31
is_plan:0
auth_user_id:40
comment: buffer Last_name

Превращает их в массив структур и пошутчно отправляет в очередь Rabbit. Параллельно приложение ждёт из rabbit из соответсвующей очереди сообщения. Принимает их и поштучно отправляет на внешнее API.
Авторизация встроена в само приложение, но, при необходимости, её можно вынести отдельно и осуществлять проверку на этапе приёма массива фактов.
За не имением конкретных указаний, структура факта в приложении выглядит следующим образом:

type Fact struct {
    PeriodStart         string 
    PeriodEnd           string 
    PeriodKey           string 
    IndicatorToMoId     string 
    IndicatorToMoFactId string 
    Value               string 
    FactTime            string 
    IsPlan              string 
    AuthUserId          string 
    Comment             string 
}

Перед отправной на внешнее API преобразуется в form/data.

## GetFacts

Принимает боди вида:

period_start:2024-05-01
period_end:2023-05-31
period_key:month
indicator_to_mo_id:227373

Сразу делает запрос к внешнему API. Формат поучаемой с внешнего API структуры не описан, поэтому ответ печатается в формате string.

Авторизация и формат данных перед отправкой по аналогии с /CreateFacts.

# Заключение

Общее время, потраченное на выполнение задания, около 3 часов. Архитектура данного приложения предоставляет пространство для дальнейшей более гибкой настройки. 
В частности:

- Добавление большего колличества проверок приходящих в приложение данных (при согласовании конкретных типов структур)
- Добавление авторизации в само приложение (как минимум использовать тот же токен, что и для внешнего API)
- Более глубокая настройка самого RabbitMQ, так как предложенный в данном приложении вариант один из самых простых
- Можно легко добавить иные сервисы по аналогии с RabbitMQ.  



